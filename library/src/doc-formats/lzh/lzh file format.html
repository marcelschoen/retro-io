<!DOCTYPE html>
<html dir="ltr" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>.lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu format spec for Kaitai Struct</title>
  <meta name="keywords" content="kaitai,struct,binary,format,parsing,decoding,java,javascript,python,ruby,library,metadata">
  <meta name="description" content="Kaitai Struct is a formal language for binary format specification that can be compiled into parser code">

  <link rel="stylesheet" href="lzh%20file%20format_files/bootstrap.css">
  <link rel="stylesheet" href="lzh%20file%20format_files/bootstrap-theme.css">
  <link href="lzh%20file%20format_files/css.css" rel="stylesheet" type="text/css">
  <link href="lzh%20file%20format_files/css_002.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="lzh%20file%20format_files/font-awesome.css">

  <link rel="stylesheet" href="lzh%20file%20format_files/main.css" type="text/css">

  <link rel="stylesheet" href="lzh%20file%20format_files/default.css">
  <style>
.diagram-img {
    display: block;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}

section.format {
    padding: 30px 0;
}

section#format-meta, section#format-index-header {
    background: #e3eef7;
}

section#format-diagram, section#format-index-footer {
    background: #e9f8dd;
}

section#format-ksy, section#format-lang {
    background: #d1eadd;
}

section#format-index .row {
    padding-bottom: 10px;
}

  </style>
  <script async="" src="lzh%20file%20format_files/analytics.js"></script><script src="lzh%20file%20format_files/highlight.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body data-spy="scroll" data-target="#main-navbar" data-offset="100">

    <nav class="navbar navbar-inverse navbar-fixed-top" id="main-navbar">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar-collapse" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <span class="navbar-brand">Kaitai Struct</span>
            </div>
            <div class="collapse navbar-collapse" id="main-navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="http://kaitai.io/#what-is-it">What is it?</a></li>
                    <li><a href="http://kaitai.io/#quick-start">Quick Start</a></li>
                    <li><a href="http://kaitai.io/#download">Download</a></li>
                    <li class="active"><a href="http://formats.kaitai.io/">Format Gallery</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="http://kaitai.io/repl/index.html">Try it</a></li>
                    <li><a href="https://ide.kaitai.io/">Web IDE</a></li>
                    <li><a href="http://doc.kaitai.io/">Documentation</a></li>
                </ul>
            </div>
        </div>
    </nav>
<nav>
    <div class="container">
    <ol class="breadcrumb">
        <li><a href="http://formats.kaitai.io/index.html">Format Gallery</a></li>
        <li>Archive Files</li>
        <li class="active">.lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu</li>
    </ol>
    </div>
</nav>

<section id="format-meta" class="format">
    <div class="container">
        <h1>.lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu:
            
            format specification
            
        </h1>

        <div class="row">
            <div class="col-md-8">
                <p></p><p>LHA (LHarc, LZH) is a file format used by a popular freeware
eponymous archiver, created in 1988 by Haruyasu Yoshizaki. Over the
years, many ports and implementations were developed, sporting many
extensions to original 1988 LZH.</p>
<p>File format is pretty simple and essentially consists of a stream of
records.</p>
<p></p>
            </div>
            <div class="col-md-4">
                <div class="panel panel-info">
                    
                    <div class="panel-heading">
                        <h3 class="panel-title">Application</h3>
                    </div>
                    <div class="panel-body">
                        LHA (AKA LHarc) by Yoshizaki Haruyasu
                    </div>
                    
                    
                    <div class="panel-heading">
                        <h3 class="panel-title">File extension</h3>
                    </div>
                    <div class="panel-body">
                        lzh
                    </div>
                    
                    
                    <div class="panel-heading">
                        <h3 class="panel-title">KS implementation details</h3>
                    </div>
                    
                    <div class="panel-body">
                        License: <a href="https://spdx.org/licenses/CC0-1.0.html">CC0-1.0</a>
                    </div>
                    
                    
                    
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
            <p>
            This page hosts a formal specification of .lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu
            using <a href="http://kaitai.io/">Kaitai Struct</a>. This
            specification can be automatically translated into a
            variety of programming languages to get a parsing library.
            </p>

            <ul class="nav nav-pills">
                
                
                <li class="active">
                
                <a href="http://formats.kaitai.io/lzh/index.html" title=".lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu parsing Overview library">Overview</a></li>
                
                
                <li>
                
                <a href="http://formats.kaitai.io/lzh/cpp_stl.html" title=".lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu parsing C++/STL library">C++/STL</a></li>
                
                
                <li>
                
                <a href="http://formats.kaitai.io/lzh/csharp.html" title=".lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu parsing C# library">C#</a></li>
                
                
                <li>
                
                <a href="http://formats.kaitai.io/lzh/graphviz.html" title=".lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu parsing GraphViz library">GraphViz</a></li>
                
                
                <li>
                
                <a href="http://formats.kaitai.io/lzh/java.html" title=".lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu parsing Java library">Java</a></li>
                
                
                <li>
                
                <a href="http://formats.kaitai.io/lzh/javascript.html" title=".lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu parsing JavaScript library">JavaScript</a></li>
                
                
                <li>
                
                <a href="http://formats.kaitai.io/lzh/lua.html" title=".lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu parsing Lua library">Lua</a></li>
                
                
                <li>
                
                <a href="http://formats.kaitai.io/lzh/perl.html" title=".lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu parsing Perl library">Perl</a></li>
                
                
                <li>
                
                <a href="http://formats.kaitai.io/lzh/php.html" title=".lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu parsing PHP library">PHP</a></li>
                
                
                <li>
                
                <a href="http://formats.kaitai.io/lzh/python.html" title=".lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu parsing Python library">Python</a></li>
                
                
                <li>
                
                <a href="http://formats.kaitai.io/lzh/ruby.html" title=".lzh file format of LHA (AKA LHarc) by Yoshizaki Haruyasu parsing Ruby library">Ruby</a></li>
                
            </ul>
            </div>
        </div>
    </div>
</section>
<section id="format-diagram" class="format">
    <div class="container">
        <h2>Block diagram</h2>
        <a href="http://formats.kaitai.io/lzh/lzh.svg">
            <img class="diagram-img" src="lzh%20file%20format_files/lzh.svg">
        </a>
    </div>
</section>

<section id="format-ksy" class="format">
    <div class="container">
        <h2>Format specification in Kaitai Struct YAML</h2>
        
        <pre><code class="yaml hljs"><span class="hljs-attr">meta:</span>
<span class="hljs-attr">  id:</span> lzh
<span class="hljs-attr">  endian:</span> le
<span class="hljs-attr">  application:</span> LHA (AKA LHarc) by Yoshizaki Haruyasu
<span class="hljs-attr">  file-extension:</span> lzh
<span class="hljs-attr">  license:</span> CC0<span class="hljs-bullet">-1.0</span>
<span class="hljs-attr">doc:</span> <span class="hljs-string">|
  LHA (LHarc, LZH) is a file format used by a popular freeware
  eponymous archiver, created in 1988 by Haruyasu Yoshizaki. Over the
  years, many ports and implementations were developed, sporting many
  extensions to original 1988 LZH.

  File format is pretty simple and essentially consists of a stream of
  records.
</span><span class="hljs-attr">seq:</span>
<span class="hljs-attr">  - id:</span> entries
<span class="hljs-attr">    type:</span> record
<span class="hljs-attr">    repeat:</span> eos
<span class="hljs-attr">types:</span>
<span class="hljs-attr">  record:</span>
<span class="hljs-attr">    seq:</span>
<span class="hljs-attr">      - id:</span> header_len
<span class="hljs-attr">        type:</span> u1
<span class="hljs-attr">      - id:</span> file_record
<span class="hljs-attr">        type:</span> file_record
<span class="hljs-attr">        if:</span> header_len &gt; <span class="hljs-number">0</span>
<span class="hljs-attr">  file_record:</span>
<span class="hljs-attr">    seq:</span>
<span class="hljs-attr">      - id:</span> header
<span class="hljs-attr">        size:</span> _parent.header_len - <span class="hljs-number">1</span>
<span class="hljs-attr">        type:</span> header
<span class="hljs-attr">      - id:</span> file_uncompr_crc16
<span class="hljs-attr">        type:</span> u2
<span class="hljs-attr">        if:</span> header.header1.lha_level == <span class="hljs-number">0</span>
<span class="hljs-attr">      - id:</span> body
<span class="hljs-attr">        size:</span> header.header1.file_size_compr
<span class="hljs-attr">  header:</span>
<span class="hljs-attr">    seq:</span>
<span class="hljs-attr">      - id:</span> header1
<span class="hljs-attr">        type:</span> header1
<span class="hljs-attr">        doc:</span> <span class="hljs-string">&gt;
          Level-neutral header, same for all LHA levels. Subsequent
          fields order and meaning varies, based on LHA level
          specified in this header.
</span><span class="hljs-attr">      - id:</span> filename_len
<span class="hljs-attr">        type:</span> u1
<span class="hljs-attr">        if:</span> header1.lha_level == <span class="hljs-number">0</span>
<span class="hljs-attr">      - id:</span> filename
<span class="hljs-attr">        type:</span> str
<span class="hljs-attr">        size:</span> filename_len
<span class="hljs-attr">        encoding:</span> ASCII
<span class="hljs-attr">        if:</span> header1.lha_level == <span class="hljs-number">0</span>
<span class="hljs-attr">      - id:</span> file_uncompr_crc16
<span class="hljs-attr">        type:</span> u2
<span class="hljs-attr">        if:</span> header1.lha_level == <span class="hljs-number">2</span>
<span class="hljs-attr">      - id:</span> os
<span class="hljs-attr">        type:</span> u1
<span class="hljs-attr">        if:</span> header1.lha_level == <span class="hljs-number">2</span>
<span class="hljs-attr">      - id:</span> ext_header_size
<span class="hljs-attr">        type:</span> u2
<span class="hljs-attr">        if:</span> header1.lha_level == <span class="hljs-number">2</span>
<span class="hljs-attr">  header1:</span>
<span class="hljs-attr">    seq:</span>
<span class="hljs-attr">      - id:</span> header_checksum
<span class="hljs-attr">        type:</span> u1
<span class="hljs-attr">      - id:</span> method_id
<span class="hljs-attr">        type:</span> str
<span class="hljs-attr">        size:</span> <span class="hljs-number">5</span>
<span class="hljs-attr">        encoding:</span> ASCII
<span class="hljs-attr">      - id:</span> file_size_compr
<span class="hljs-attr">        type:</span> u4
<span class="hljs-attr">        doc:</span> Compressed file size
<span class="hljs-attr">      - id:</span> file_size_uncompr
<span class="hljs-attr">        type:</span> u4
<span class="hljs-attr">        doc:</span> Uncompressed file size
<span class="hljs-attr">      - id:</span> file_timestamp
<span class="hljs-attr">        type:</span> u4
<span class="hljs-attr">        doc:</span> Original file date/time
<span class="hljs-attr">      - id:</span> attr
<span class="hljs-attr">        type:</span> u1
<span class="hljs-attr">        doc:</span> File or directory attribute
<span class="hljs-attr">      - id:</span> lha_level
<span class="hljs-attr">        type:</span> u1
</code></pre>
    </div>
</section>

    <footer id="main-footer">
        <div class="container">
            Â© 2015-2018 Kaitai Project and <a href="https://github.com/kaitai-io/kaitai_struct_formats/graphs/contributors">formats repo contributors</a>

            <h3>Contacts</h3>

            <div class="row">
                <div class="col-sm-4">
                    <i class="fa fa-fw fa-2x fa-github"></i> <a href="https://github.com/kaitai-io/kaitai_struct">GitHub</a>
                </div>
                <div class="col-sm-4">
                    <i class="fa fa-fw fa-2x fa-twitter"></i> <a href="https://twitter.com/kaitai_io">@kaitai_io</a>
                </div>
                <div class="col-sm-4">
                    Gitter: <a href="https://gitter.im/kaitai_struct/Lobby">kaitai_struct</a>
                </div>
            </div>
        </div>
    </footer>

  <script src="lzh%20file%20format_files/jquery-1.js"></script>
  <script src="lzh%20file%20format_files/bootstrap.js"></script>

  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-76299550-1', 'auto');
      ga('send', 'pageview');
  </script>


<div></div></body></html>